# 计算机系统概论

## 预备知识

### 组成计算机的硬件设备

* 输入输出设备
* 中央处理设备
* 接口转换卡
* 存储设备
* 部件连接线

一个完整的计算机系统应该包括硬件系统和软件系统两个部分。

## 计算机的分类

* 数字计算机：处理数字量的信息，按位进行计算

  * 专用计算机：针对某一任务设计的最有效、最经济和最快速的计算机，但是适应性比较差。
  * 通用计算机：适应性很大，但是牺牲了效率、速度和经济性。

    * 单片机
    * 微型机
    * 服务器
    * 大型机
    * 超级计算机

    从上到小：更加复杂、性能更加强大
* 模拟计算机：处理模拟量系统，数值连续

‍

## 计算机的发展历史

* 第一代计算机：1946~1957年，电子管计算机
* 第二代计算机：1958~1964年，晶体管计算机
* 第三代计算机：1965~1971年：中小规模集成电路
* 第四代计算机：1972~1990年：超大规模集成电路
* 第五代计算：1991年~，巨大规模集成电路

### 第一代计算机

采用电子管制造。代表机型：`ENIAC`​，1946年诞生在宾夕法尼亚大学。

### 第二代计算机

采用晶体管制造。

> 摩尔定律：每18个月，集成电路的性能就会提高一倍，价格将下降一半。

## 半导体存储器的发展

* 磁芯存储器：20世纪50~60年代
* 半导体存储器：1970年出现。

## 微处理器的历史发展

4004-8008-8080-8086-8088

80286-386TM DX-386TM SX-486TM DX

Pentium- Pentium Pro - Pentium 2 - Pentium 3 - Pentium 4

## 计算机的性能指标

* 吞吐量：表征一台计算机在某一时间内能狗狗处理得的信息量
* 响应时间：从输入有效到系统产生响应之间的时间度量，用时间单位表示
* 利用率：在指定的时间间隔内，系统被完全利用的时间所占的比率，用百分比表示
* 处理器字长（机器字长）：处理器运算器中一次能够完成二进制运算的位数，比如32位，64位
* 总线宽度：运算器与存储器之间的数据总线宽度
* 主存储器容量：主存储器能存储的二进制数据的位数
* 主存储器带宽：单位时间从主存储器读出的二进制信息量，一般用`bit/s`​来表示
* 主频/时钟周期：CPU主时钟的频率，其倒数为CPU的时钟周期
* CPU的运算速度：

  * CPU执行时间：CPU执行一般程序所占用的CPU时间
  * CPI：执行一条指令所需要的平均时钟周期数
  * MIPS：每秒百万指令数，也就是单位时间内执行的指令数

    对于标量机，一次运算只能得到一个结构
  * MFLOPS：每秒百万次浮点操作数

    对于向量机：一次运算往往可以得到多个结果

CPU的运算速度可以用以下两种方式来计算：

$CPU时间 = \frac{一个程序的CPU时钟周期数}{时钟频率}$  

$CPU时间=IC \times CPI \times 时钟周期$  

因此CPU时间主要和三个参数有关系：

* 时钟周期的长度是由硬件技术和计算机组成决定的
* CPI是由计算机组成和指令集的系统结构决定
* 指令数是由指令集的系统结构和编译器决定

## 计算机的硬件

### 硬件的组成要素

冯诺以曼计算机特点：

* 由运算器、存储器、控制器、输入设备和输出设备五个部分组成
* 存储器以二进制形式存储的指令和数据
* 指令由操作码和地址码组成
* 存储程序并按地址顺序执行

  冯诺以曼计算机的核心设计思想，让计算机自动工作的基础
* 以运算器为核心

而现代计算机和冯诺以曼计算机的主要区别就是现代计算机以存储器位核心。

现代计算机的特点：

* 将运算器、控制器和片内的高速缓存统称为CPU，将CPU，主存储器、输入/输出接口和系统总线统称为主机，其余的设备均为外设

  主机内仅包含主存储器，辅助存储器属于辅助IO

### 运算器

处理所有的算数及逻辑运算。通常称作`ALU`​，算数逻辑单元。

* 采用二进制数据进行运算
* 运算器一次可以处理的数据位数成为机器字长
* 机器字长一般为8，16，32，64位，机器字长直接决定运算的精度和能力
* 运算器主要有`ALU`​和各类通用寄存器构成

### 存储器

保存所有的程序和数据。

* 二进制形式保存程序和数据
* 存储器是按照存储单元组织的，读写存储单元必须给出单元地址

相关的概念：

* 存储元：用于保存一位二进制数据的物理器件
* 存储单元：能够保存一个字数据的器件，由若干个存储元构成
* 单元地址：能区分每一个存储单元的编号，一般从0开始
* 存储容量：一个存储器能保存的二进制数据量

存储器一般分成几类：

* 外存，又称作辅助存储器，例如磁盘存储器，光盘存储器。但是`CPU`​不能直接访问外存.
* 内存：也就是主存储器，是半导体，`CPU`​可以直接访问

还有两个和内存相关的寄存器：

* ​`MAR`​，存储器地址七寸其，接受由CPU送来的地址信息
* ​`MDR`​，存储器数据寄存器，作为外界与存储器之间的数据通路

### 控制器

根据所要执行指令的功能，按顺序发出各种控制指令，协调各个部件的工作。

主要的任务是：

* 解释并执行指令
* 控制指令的执行顺序
* 负责指令执行过程中，操作数的寻址
* 根据指令的执行，协调相关部件的工作

其中指令一般的形式为：

操作码+地址码

* 操作码：指出指令锁进行的操作，如加减，数据传送

* 地址码：指出进行以上操作的数据存放位置

存储器的工作周期：

* 取值周期：取指定的一段时间
* 执行周期：执行指令的一段时间

使指令按照顺序指定的控制部件：指令计数器。每取出一条指令，指令计数器就加一步（一条指令的字节数）。如果遇到转移类的指令，控制器根据所执行的指令设置指令计数器的值。

其中相关的概念有：

* 数据字：该字代表要处理的数据
* 指令字：该字为一条指令
* 指令流：取值周期中，从内存中读出的信息流
* 数据流，执行周期中，从内存中读出的数据流

### 适配器和输入输出设备

输入设备：将么某种信息形式转换为机器能够识别的二进制信息的设备。

输出设备：将计算机处理的结果变成人或者其他机器设备所能够接受和识别的信息形式的设备。

适配器：保证外围设别用计算机系统特性要求的形式发送或者接受信息。

系统总线：将计算机各个部分连接在一起，并且提供数据传送的功能。

## 计算机中的软件

### 系统程序

用来简化程序设计，简化使用方法，提高计算机的使用效率，发挥和扩大计算机的功能及用途。

比如操作系统。

### 应用程序

用户为了解决实际问题而编写的软件。

## 计算机系统的层次结构

### 从不同角度看到的计算机的构成

* 微程序设计级
* 一般机器级
* 操作系统级
* 汇编语言级
* 高级语言级

### 软件与硬件的逻辑等价性

硬件：计算机系统的电子电路

软件：编写的程序

固件：通常存储在`ROM`​中的软件，可以当作硬件来使用
